[
    {
        "id": "library_items",
        "name": "library_items",
        "type": "base",
        "system": false,
        "schema": [
            {
                "name": "title",
                "type": "text",
                "required": true,
                "options": {
                    "min": 1,
                    "max": 200
                }
            },
            {
                "name": "author",
                "type": "text",
                "required": false,
                "options": {
                    "max": 100
                }
            },
            {
                "name": "isbn",
                "type": "text",
                "required": false,
                "options": {
                    "max": 20
                }
            },
            {
                "name": "publisher",
                "type": "text",
                "required": false,
                "options": {
                    "max": 100
                }
            },
            {
                "name": "year",
                "type": "number",
                "required": false,
                "options": {
                    "min": 1900,
                    "max": 2100
                }
            },
            {
                "name": "category",
                "type": "select",
                "required": false,
                "options": {
                    "values": [
                        "FICTION",
                        "NON_FICTION",
                        "REFERENCE",
                        "TEXTBOOK",
                        "MAGAZINE",
                        "OTHER"
                    ]
                }
            },
            {
                "name": "location",
                "type": "text",
                "required": false,
                "options": {
                    "max": 50
                }
            },
            {
                "name": "qr_code",
                "type": "text",
                "required": true,
                "unique": true
            },
            {
                "name": "status",
                "type": "select",
                "required": false,
                "options": {
                    "values": [
                        "AVAILABLE",
                        "BORROWED"
                    ]
                }
            },
            {
                "name": "description",
                "type": "text",
                "required": false
            },
            {
                "name": "cover",
                "type": "file",
                "required": false,
                "options": {
                    "maxSelect": 1,
                    "maxSize": 5242880,
                    "mimeTypes": [
                        "image/png",
                        "image/jpeg",
                        "image/webp"
                    ]
                }
            }
        ],
        "listRule": "",
        "viewRule": "",
        "createRule": "@request.auth.id != ''",
        "updateRule": "@request.auth.id != ''",
        "deleteRule": "@request.auth.id != ''"
    },
    {
        "id": "library_members",
        "name": "library_members",
        "type": "base",
        "system": false,
        "schema": [
            {
                "name": "user",
                "type": "relation",
                "required": false,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "cascadeDelete": false,
                    "maxSelect": 1
                }
            },
            {
                "name": "name",
                "type": "text",
                "required": true,
                "options": {
                    "min": 1,
                    "max": 100
                }
            },
            {
                "name": "class_name",
                "type": "text",
                "required": false,
                "options": {
                    "max": 20
                }
            },
            {
                "name": "student_id",
                "type": "text",
                "required": false,
                "options": {
                    "max": 20
                }
            },
            {
                "name": "qr_code",
                "type": "text",
                "required": true,
                "unique": true
            },
            {
                "name": "max_borrow_limit",
                "type": "number",
                "required": false,
                "options": {
                    "min": 1,
                    "max": 10
                }
            },
            {
                "name": "is_active",
                "type": "bool",
                "required": false
            },
            {
                "name": "photo",
                "type": "file",
                "required": false,
                "options": {
                    "maxSelect": 1,
                    "maxSize": 5242880,
                    "mimeTypes": [
                        "image/png",
                        "image/jpeg",
                        "image/webp"
                    ]
                }
            }
        ],
        "listRule": "",
        "viewRule": "",
        "createRule": "@request.auth.id != ''",
        "updateRule": "@request.auth.id != ''",
        "deleteRule": "@request.auth.id != ''"
    },
    {
        "id": "library_loans",
        "name": "library_loans",
        "type": "base",
        "system": false,
        "schema": [
            {
                "name": "member",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "library_members",
                    "cascadeDelete": false,
                    "maxSelect": 1
                }
            },
            {
                "name": "item",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "library_items",
                    "cascadeDelete": false,
                    "maxSelect": 1
                }
            },
            {
                "name": "borrow_date",
                "type": "date",
                "required": true
            },
            {
                "name": "due_date",
                "type": "date",
                "required": true
            },
            {
                "name": "return_date",
                "type": "date",
                "required": false
            },
            {
                "name": "is_returned",
                "type": "bool",
                "required": false
            },
            {
                "name": "fine_amount",
                "type": "number",
                "required": false,
                "options": {
                    "min": 0
                }
            },
            {
                "name": "fine_paid",
                "type": "bool",
                "required": false
            },
            {
                "name": "notes",
                "type": "text",
                "required": false
            }
        ],
        "listRule": "",
        "viewRule": "",
        "createRule": "@request.auth.id != ''",
        "updateRule": "@request.auth.id != ''",
        "deleteRule": "@request.auth.id != ''"
    },
    {
        "id": "library_visits",
        "name": "library_visits",
        "type": "base",
        "system": false,
        "schema": [
            {
                "name": "member",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "library_members",
                    "cascadeDelete": false,
                    "maxSelect": 1
                }
            },
            {
                "name": "date",
                "type": "date",
                "required": true
            },
            {
                "name": "timestamp",
                "type": "date",
                "required": true
            }
        ],
        "listRule": "",
        "viewRule": "",
        "createRule": "",
        "updateRule": "@request.auth.id != ''",
        "deleteRule": "@request.auth.id != ''"
    }
]